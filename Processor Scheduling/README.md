# 实验 2 作业调度实验

一、实验目的
模拟作业调度算法，学习作业在操作系统中的调度过程，加深对作业管理的理解。培养学生程序设计的方法和技巧。

二、实验内容
本实验模拟单处理器系统的作业调度，加深对作业调度算法的理解。用某种语言编程实现先来先服务、短作业优先和最高响应比优先算法。有一些简单的界面，能够运行，仿真操作系统中作业调度的原理和过程。
1、 在后备作业队列中输入 5 道作业各自需要的时间及存储空间。数据输入格式如下：
作业编号   作业名称   提交时间   要求服务运行时间（分钟）
1   JA   02：40   20     
2  JB  02：50  30     
3  JC  02：55  10     
4  JD  03：00  24     
5  JE  03：05  6

输出为一组作业调度信息和统计信息。 加权周转时间等。
作业调度信息包括：
作业编号   作业名称   提交时间   要求服务运行时间    开始时间   完成时间   等待时间 周转时间

统计信息包括： 平均周转时间、平均带权周转时间。

2、  按先来先服务（FCFS）的原则进行调度，输出作业调度的顺序及相关信息。
3、  按最短作业优先（SJF）的原则进行调度，输出作业调度的顺序及相关信息。
4、  按最高响应比优先的原则进行调度，输出作业调度顺序及相关信息。
5、  （选做）时间片轮转的原则进行调度（时间片大小可设置为 200ms），输出作业调度信息。

三、实验原理（黑体，小 4 号字）
作业调度算法主要有先来先服务法 FCFS、短作业优先法 SJF、最高响应比优先法、定时轮转法等。本实验响应比计算公式为：RP = （等待时间+要求服务时间）/要求服务时间。

实验提示
1、  根据作业输入输出数据及算法设计需要，定义 JCB 结构；
struct JCB{
char JobNum[2];
char JobName[8];
…
};
2、  定义数据结构装载后备作业
JCB JobArray[MaxNumber]; // MaxNumber 为最大作业数
（数组是一个选项，是采用数组还是链表，同学们可以自行设计，本实验不做固定要求）
3、调度仿真可以以循环仿真时间的演进，如一个循环代表一个时间单位（1 分钟， 1 秒， 100 毫秒，1 毫秒等），然后在每个循环里检查是否有新作业到达，是否有作业完成，是否时间片到 ……,分别进行相应处理（包括进入作业后备队列，开始运行记录，退出后备（就绪）队列，调整或重新计算权重，重新调度，统计操作等等）
4、非时间片作业调度算法的仿真也可以以当前作业的完成作为时间演进跨度，以简化程序。
5、时间片轮转可以以循环结构仿真，每次循环从就绪队列中选择一个作业（进程）仿真运行一个时间片。然后进入就绪队列尾。
